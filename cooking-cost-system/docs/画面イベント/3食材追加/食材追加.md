# 食材追加 画面イベント設計

## 1. 概要
本画面は、新しく購入した食材や調味料をシステムに登録するための画面である。正確な原価計算の基礎となるデータを入力する。

## 2. 画面要素
| 要素名 | 種類 | 説明 | 備考 |
| :--- | :--- | :--- | :--- |
| 商品名 | テキスト入力 | 食材の名称を入力。 | 必須 |
| 購入先 | テキスト入力 | 仕入れ先やスーパー名を入力。 | 必須 |
| 価格 (円) | 数値入力 | 購入金額を整数で入力。 | 必須、最小値: 0 |
| 量 | 数値入力 | 購入した「量」を数値で入力。 | 必須、最小値: 0、小数可 |
| 単位 | セレクト入力 | 「g」「ml」「個」から選択。 | 必須 |
| 登録ボタン | ボタン | 入力内容を確定し、サーバーへ送信。 | |

## 3. 画面イベント
### 3.1 ページロード
- ユーザー認証状態の確認。
- フォーム全体がフェードイン・スライドアップ（y: 20 → 0）で表示される。
- 各入力項目は空の状態で初期化される。

### 3.2 入力バリデーション
- 全項目が入力されていない場合、HTML5の標準バリデーションによりブラウザが警告を表示し、送信をブロックする。
- 価格・量は、マイナスの値が入力されないよう制約を設ける。

### 3.3 登録実行
- 「食材を登録する」ボタンをクリックした際、以下の処理を行う。
  1. ボタンを無効化し、「登録中...」というインジケーターを表示する。
  2. 入力データを収集し、バックエンドAPI（POST /api/ingredients）へ送信する。
  3. APIの戻り値が成功の場合、完了メッセージを表示し、フォームの入力をクリアする。
  4. 失敗の場合、エラーメッセージをユーザーに通知し、再入力を促す。

### 3.4 入力項目のクリア
- 登録完了後、すべてのフォーム入力値が初期状態（空）に戻る。
