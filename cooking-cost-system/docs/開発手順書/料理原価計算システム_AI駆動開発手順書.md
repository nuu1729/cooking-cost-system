# 料理原価計算システム AI駆動開発手順書

本資料は、料理原価計算システムプロジェクトのAI駆動開発の手順書です。

## 目次

- [1. プロジェクト概要](#1-プロジェクト概要)
  - [1.1 目的](#11-目的)
  - [1.2 システムアーキテクチャ](#12-システムアーキテクチャ)
- [2. 開発ディレクトリ構成](#2-開発ディレクトリ構成)
- [3. AI駆動開発のワークフロー](#3-ai駆動開発のワークフロー)
  - [3.1 基本サイクル](#31-基本サイクル)
  - [3.2 70点主義（イテレーティブ開発）](#32-70点主義イテレーティブ開発)
  - [3.3 フロントエンドファースト（UI駆動）](#33-フロントエンドファーストui駆動)
- [4. 品質管理フロー](#4-品質管理フロー)
  - [4.1 AIによるコードレビュー](#41-aiによるコードレビュー)
- [5. 開発環境のセットアップ](#5-開発環境のセットアップ)

---

## 1. プロジェクト概要

### 1.1 目的
本プロジェクトは、飲食店の料理原価を正確かつ迅速に計算するためのWEBシステムを構築します。
AI（Antigravity）との協調により、開発速度と品質を最大化します。

### 1.2 システムアーキテクチャ
| レイヤー | 技術スタック | 選定理由 |
| :--- | :--- | :--- |
| **Frontend** | **Vite + React + Tailwind CSS** | 高速なHMRと柔軟なスタイリング |
| **Backend** | **Node.js + Express** | TypeScriptによる型安全性 |
| **Database** | **MySQL 8.0** | 信頼性の高いRDBMS |
| **Infra** | **Docker Compose** | 開発環境の可搬性 |

---

## 2. 開発ディレクトリ構成

```text
cooking-cost-system/
├── backend/            # バックエンド (Node.js/Express)
│   ├── src/
│   │   ├── models/     # データベースモデル
│   │   ├── routes/     # APIルーティング
│   │   └── controllers/# ビジネスロジック
├── frontend/           # フロントエンド (Vite/React)
│   ├── src/
│   │   ├── components/ # 共通コンポーネント
│   │   ├── pages/      # ページコンポーネント
│   │   └── services/   # APIアクセス
├── docs/               # ドキュメント
│   ├── 画面イベント/    # 画面遷移・仕様定義
│   └── 開発手順書/      # 本手順書
```

---

## 3. AI駆動開発のワークフロー

### 3.1 基本サイクル
AIに対して「指示」→「生成」→「人間による検証」を高速に繰り返します。

1. **指示 (Prompt)**: `@` メンションで関連ファイルを参照させ、具体的な要件を伝えます。
2. **生成 (Generate)**: AIがコードを提案または直接編集します。
3. **検証 (Verify)**: ブラウザやテストで動作を確認し、フィードバックをAIに戻します。

### 3.2 70点主義（イテレーティブ開発）
最初から100点のプロンプトを目指すのではなく、まずは「動くもの」をAIに作らせ（70点）、そこから対話を通じて完成度を高めていきます。

### 3.3 フロントエンドファースト（UI駆動）
バックエンドの都合ではなく、ユーザーが触れる「画面」を起点に設計します。
まずUIを作成し、そこから必要なAPI仕様やデータ構造を逆算して定義します。

---

## 4. 品質管理フロー

### 4.1 AIによるコードレビュー
実装が終わったコードに対し、別のコンテキストやセッションでAIに「セキュリティリスク」や「保守性の観点」でレビューを依頼します。

---

## 5. 開発環境のセットアップ

1. **リポジトリの準備**: Docker Desktopがインストールされていることを確認。
2. **環境起動**:
   ```bash
   docker-compose up -d
   ```
3. **アクセス**:
   - フロントエンド: `http://localhost:3000`
   - バックエンド: `http://localhost:3001`
